{"version":3,"sources":["effector/effector.ts","components/Lightbox/LightboxInfo.tsx","components/Lightbox/Lightbox.tsx","components/ImgTab/ImagesTab.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["addNewComment","createEvent","addNewLike","$store","createStore","id","photos","likesCount","comments","on","state","index","newCommentText","push","LightboxInfo","styles","createUseStyles","lightboxInfoWrapper","width","background","color","cursor","likesWrapper","display","justifyContent","padding","commentsWrapper","flexDirection","commentWrapper","borderRadius","comment","margin","border","radius","alignItems","formWrapper","btn","outline","marginLeft","inputField","resize","flexGrow","className","onClick","e","stopPropagation","length","map","i","onSubmit","values","newComment","render","handleSubmit","form","submitting","pristine","event","reset","name","component","placeholder","rows","type","disabled","Lightbox","props","appRoot","document","getElementById","lightboxBackground","position","zIndex","top","bottom","left","right","backgroundColor","lightboxWrapper","ligthboxImg","ReactDOM","createPortal","cancelVisionMode","src","alt","onDoubleClick","ImagesTab","imageTabWrapper","height","overflow","img","objectFit","useState","visionMode","setVisionMode","key","App","galleryWrapper","flexWrap","maxWidth","getImagesData","useStore","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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","file":"static/js/main.1c34329b.chunk.js","sourcesContent":["import {createEvent, createStore} from \"effector\";\r\n\r\nconst store = [\r\n    {\r\n        id: 1,\r\n        photos: 'https://cdna.artstation.com/p/assets/images/images/016/605/980/large/low-side-ways-jdm-gtr.jpg?1552788825',\r\n        likesCount: 0,\r\n        comments: ['первый комментарий', 'второй комментарий', 'третий комментарий'] as Array<string>\r\n    }, {\r\n        id: 2,\r\n        photos: 'https://cs10.pikabu.ru/post_img/big/2018/11/11/1/1541890605160950166.jpg',\r\n        likesCount: 0,\r\n        comments: ['первый комментарий', 'второй комментарий', 'третий комментарий'] as Array<string>\r\n    }, {\r\n        id: 3,\r\n        photos: 'https://bipbap.ru/wp-content/uploads/2017/06/1366_768_20141203081214493035.jpg',\r\n        likesCount: 0,\r\n        comments: ['первый комментарий', 'второй комментарий', 'третий комментарий'] as Array<string>\r\n    }, {\r\n        id: 4,\r\n        photos: 'https://i.ytimg.com/vi/WA3O0bXwZkU/maxresdefault.jpg',\r\n        likesCount: 0,\r\n        comments: ['первый комментарий', 'второй комментарий', 'третий комментарий'] as Array<string>\r\n    }, {\r\n        id: 5,\r\n        photos: 'https://img3.akspic.ru/previews/0/1/4/6/4/146410/146410-bmw-nissan_gt_r-nebo-tyuning_avtomobilej-lichnyj_roskoshnyj_avtomobil-550x310.jpg',\r\n        likesCount: 0,\r\n        comments: ['первый комментарий', 'второй комментарий', 'третий комментарий'] as Array<string>\r\n    }, {\r\n        id: 6,\r\n        photos: 'https://img2.akspic.ru/previews/3/8/0/5/6/165083/165083-retrovejv-legkovyye_avtomobili-audi_avant_2-synthwave-voda-550x310.jpg',\r\n        likesCount: 0,\r\n        comments: [] as Array<string>\r\n    }, {\r\n        id: 7,\r\n        photos: 'https://wallpaperscave.ru/images/original/18/10-27/vehicles-cars-chevrolet-94827.jpg',\r\n        likesCount: 0,\r\n        comments: [] as Array<string>\r\n    }, {\r\n        id: 8,\r\n        photos: 'https://images3.alphacoders.com/890/89045.jpg',\r\n        likesCount: 0,\r\n        comments: [] as Array<string>\r\n    }, {\r\n        id: 9,\r\n        photos: 'https://witcher-tv.ru/wp-content/uploads/2019/12/geralt-stryga-full-hd.jpg',\r\n        likesCount: 0,\r\n        comments: [] as Array<string>\r\n    }, {\r\n        id: 10,\r\n        photos: 'https://i.pinimg.com/originals/9b/f0/be/9bf0be77314beb7f22497247c3f475a3.jpg',\r\n        likesCount: 0,\r\n        comments: [] as Array<string>\r\n    },\r\n]\r\n\r\nexport type storeType = typeof store\r\ntype AddNewComment = {\r\n    index: number,\r\n    newCommentText: string\r\n}\r\ntype AddNewLike = {\r\n    index: number\r\n}\r\n\r\nexport const addNewComment = createEvent<AddNewComment>()\r\nexport const addNewLike = createEvent<AddNewLike>()\r\n\r\nconst $store = createStore<storeType>(store)\r\n    .on(addNewComment, (state, { index, newCommentText}) => {\r\n        state[index].comments.push(newCommentText)\r\n        return [...state]\r\n    })\r\n    .on(addNewLike, (state, {index}) => {\r\n        state[index].likesCount = state[index].likesCount + 1\r\n        return [...state]\r\n    })\r\n\r\nexport default $store","import React from \"react\"\r\nimport {Field, Form} from \"react-final-form\"\r\nimport {createUseStyles} from \"react-jss\"\r\nimport {addNewComment} from \"../../effector/effector\";\r\n\r\ntype LightboxInfoPropsType = {\r\n    likesCount: number,\r\n    comments: Array<string>,\r\n    id: number\r\n}\r\ntype Values = {\r\n    newComment: string\r\n}\r\n\r\nexport const LightboxInfo: React.FC<LightboxInfoPropsType> = ({id, likesCount, comments}) => {\r\n    const styles = createUseStyles({\r\n        lightboxInfoWrapper: {\r\n            width: '90%',\r\n            background: {\r\n                color: 'cyan'\r\n            },\r\n            cursor: 'default'\r\n        },\r\n        likesWrapper: {\r\n            display: 'flex',\r\n            justifyContent: 'flex-end',\r\n            padding: '8px',\r\n        },\r\n        commentsWrapper: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'flex-start',\r\n            padding: '8px',\r\n        },\r\n        commentWrapper: {\r\n            padding: '4px',\r\n            borderRadius: '4px'\r\n        },\r\n        comment: {\r\n            color: 'white',\r\n            margin: '4px',\r\n            padding: '2px',\r\n            background: {\r\n                color: 'rgba(150,150,200,1)',\r\n            },\r\n            border: {\r\n                radius: '6px'\r\n            },\r\n            display: 'flex',\r\n            justifyContent: 'flex-start',\r\n            alignItems: 'flex-start'\r\n        },\r\n        formWrapper: {\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            padding: '8px'\r\n        },\r\n        btn: {\r\n            border: 'none',\r\n            outline: 'none',\r\n            background: 'rgba(150,150,200,1)',\r\n            padding: '8px',\r\n            marginLeft: '8px'\r\n        },\r\n        inputField: {\r\n            resize: 'none',\r\n            width: '100%',\r\n            flexGrow: '1',\r\n            border: 'none',\r\n            outline: 'none',\r\n        }\r\n    })()\r\n\r\n\r\n    const onSubmit = (values: Values) => {\r\n        addNewComment({index: id - 1, newCommentText: values.newComment})\r\n        // useForm('newComment').reset()\r\n    }\r\n    return <div className={styles.lightboxInfoWrapper} onClick={e => e.stopPropagation()} key={id}>\r\n        <div className={styles.likesWrapper}>\r\n            Нравится: {likesCount}\r\n        </div>\r\n        <div className={styles.commentsWrapper}>\r\n            {comments.length === 0\r\n                ? 'Пока что никто не оставил комментарий, Вы будете первыми'\r\n                : comments.map(i => <div key={i} className={styles.comment}>{i}</div>)}\r\n        </div>\r\n        <Form\r\n            onSubmit={onSubmit}\r\n            render={({handleSubmit, form, submitting, pristine, values}) => (\r\n                <form\r\n                    onSubmit={event => {\r\n                        handleSubmit(event)\r\n                        form.reset()\r\n                    }}\r\n                    className={styles.formWrapper}\r\n                >\r\n                    <Field name=\"newComment\" component=\"textarea\" placeholder=\"Новый комментарий!\"\r\n                           className={styles.inputField}\r\n                           rows='3'/>\r\n                    <button type=\"submit\" disabled={submitting || pristine} className={styles.btn}>\r\n                        Submit\r\n                    </button>\r\n                </form>\r\n            )}\r\n        />\r\n    </div>\r\n}","import React from \"react\"\r\nimport ReactDOM from \"react-dom\";\r\nimport {createUseStyles} from \"react-jss\";\r\nimport {LightboxInfo} from \"./LightboxInfo\";\r\nimport {addNewLike} from \"../../effector/effector\";\r\n\r\ntype LightboxPropsType = {\r\n    id: number,\r\n    photos: string,\r\n    likesCount: number,\r\n    comments: Array<string>,\r\n    cancelVisionMode: () => void\r\n}\r\n\r\nexport const Lightbox: React.FC<LightboxPropsType> = (props) => {\r\n\r\n    const appRoot = document.getElementById('root') as HTMLElement\r\n\r\n    const styles = createUseStyles({\r\n        lightboxBackground: {\r\n            position: 'fixed',\r\n            zIndex: '1',\r\n            top: '0',\r\n            bottom: '0',\r\n            left: '0',\r\n            right: '0',\r\n            backgroundColor: 'rgba(0,0,0,0.5)',\r\n        },\r\n        lightboxWrapper: {\r\n            position: 'absolute',\r\n            top: '0',\r\n            left: '0',\r\n            padding: '40px 0',\r\n            width: '100%',\r\n            zIndex: '2',\r\n            display: 'flex',\r\n            // justifyContent: 'center',\r\n            alignItems: 'center',\r\n            flexDirection: 'column',\r\n            cursor: 'pointer'\r\n        },\r\n        ligthboxImg: {\r\n            cursor: 'default',\r\n            width: '90%',\r\n        }\r\n    })()\r\n\r\n    return ReactDOM.createPortal(\r\n        <>\r\n            <div className={styles.lightboxBackground}></div>\r\n            <div className={styles.lightboxWrapper} onClick={() => {\r\n                props.cancelVisionMode()\r\n            }}>\r\n                <img className={styles.ligthboxImg}\r\n                     src={props.photos}\r\n                     alt={`Images ID: ${props.id}`}\r\n                     onClick={e => e.stopPropagation()}\r\n                     onDoubleClick={() => {addNewLike({index: props.id - 1})}}\r\n                />\r\n                <LightboxInfo comments={props.comments} likesCount={props.likesCount} id={props.id}/>\r\n            </div>\r\n        </>\r\n        , appRoot)\r\n}","import React, {useState} from \"react\"\r\nimport {createUseStyles} from \"react-jss\";\r\nimport {Lightbox} from \"../Lightbox/Lightbox\";\r\n\r\ntype ImagesTabPropsType = {\r\n    id: number,\r\n    photos: string,\r\n    likesCount: number,\r\n    comments: Array<string>\r\n}\r\n\r\nexport const ImagesTab: React.FC<ImagesTabPropsType> = (props) => {\r\n\r\n    const styles = createUseStyles({\r\n        imageTabWrapper: {\r\n            width: '320px',\r\n            height: '320px',\r\n            borderRadius: '4px',\r\n            margin: '4px',\r\n            overflow: 'hidden',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            cursor: 'pointer'\r\n        },\r\n        img: {\r\n            height: '100%',\r\n            width: '100%',\r\n            objectFit: 'cover'\r\n        }\r\n    })()\r\n    const [visionMode, setVisionMode] = useState<boolean>(false)\r\n\r\n    return (\r\n        <>\r\n            <div className={styles.imageTabWrapper} onClick={() => setVisionMode(true)}>\r\n                <img src={props.photos} alt={`Images ID: ${props.id}`}\r\n                     className={styles.img}\r\n                />\r\n            </div>\r\n            {visionMode\r\n                ? <Lightbox {...props} cancelVisionMode={() => setVisionMode(false)} key={props.id}/>\r\n                : null}\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport {ImagesTab} from \"./components/ImgTab/ImagesTab\"\r\nimport {useStore} from \"effector-react\";\r\nimport $store from \"./effector/effector\";\r\nimport {createUseStyles} from \"react-jss\";\r\n\r\n\r\nconst App: React.FC = () => {\r\n\r\n    const styles = createUseStyles({\r\n        galleryWrapper: {\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            maxWidth: '1000px',\r\n            justifyContent: 'center',\r\n            margin: '0 auto',\r\n            backgroundColor: 'turquoise'\r\n        }\r\n    })()\r\n\r\n    const getImagesData = useStore($store)\r\n\r\n    return (\r\n        <div className={styles.galleryWrapper}>\r\n            {getImagesData.map(i => {\r\n                return <ImagesTab key={i.id}\r\n                                  id={i.id}\r\n                                  photos={i.photos}\r\n                                  likesCount={i.likesCount}\r\n                                  comments={i.comments}\r\n                />\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}